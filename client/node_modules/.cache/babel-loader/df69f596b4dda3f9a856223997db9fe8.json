{"ast":null,"code":"var _jsxFileName = \"/Users/ksena/\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/React/lessons/Shop_1001/client/src/pages/basket/components/BasketList.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useMemo } from 'react';\nimport { useNavigate } from 'react-router';\nimport { Button } from '@material-ui/core';\nimport { BasketItem } from './BasketItem';\nimport { BasketContext } from '../../../context/BasketContext';\nimport { sumBook } from '../utils';\nimport { RouteNames } from '../../../interface/IRoute';\nimport '../style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BasketList = _ref => {\n  _s();\n\n  let {\n    books\n  } = _ref;\n  const {\n    booksLocalStore,\n    addBookToBasket,\n    removeBookFromBasket,\n    decreaseBookFromBasket\n  } = useContext(BasketContext);\n  const navigate = useNavigate();\n  const totalSum = useMemo(() => books.map(book => sumBook(booksLocalStore, book.idBook, book.price)).reduce((total, quantity) => +(total + quantity).toFixed(2), 0), [booksLocalStore, books]);\n  const handlerToOrder = useCallback(() => navigate(RouteNames.ORDER), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapperBasketList\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"basketOrder\",\n      children: \"Order #1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"basketHeader\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basketHeader-other\",\n        children: \"Img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basketHeader-name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basketHeader-other\",\n        children: \"Quantity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basketHeader-other\",\n        children: \"Price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basketHeader-other\",\n        children: \"Sum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basketHeader-other\",\n        children: \"Del\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), books.map(book => /*#__PURE__*/_jsxDEV(BasketItem, {\n      book: book,\n      booksLocalStore: booksLocalStore,\n      removeBookFromBasket: removeBookFromBasket,\n      addBookToBasket: addBookToBasket,\n      decreaseBookFromBasket: decreaseBookFromBasket\n    }, book.idBook, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"basketTotal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"total: \", totalSum, \"$\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"basketButtonBuy\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"secondary\",\n        onClick: handlerToOrder,\n        children: \"Buy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BasketList, \"HH7nmafMWox8/CnwMMHh6Lww9wE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = BasketList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BasketList\");","map":{"version":3,"names":["React","useCallback","useContext","useMemo","useNavigate","Button","BasketItem","BasketContext","sumBook","RouteNames","BasketList","books","booksLocalStore","addBookToBasket","removeBookFromBasket","decreaseBookFromBasket","navigate","totalSum","map","book","idBook","price","reduce","total","quantity","toFixed","handlerToOrder","ORDER"],"sources":["/Users/ksena/Программирование/React/lessons/Shop_1001/client/src/pages/basket/components/BasketList.tsx"],"sourcesContent":["import React, { FC, useCallback, useContext, useEffect, useMemo, useState } from 'react'\nimport { useNavigate } from 'react-router'\nimport { Button } from '@material-ui/core'\n\nimport { BasketItem } from './BasketItem'\nimport { BasketContext } from '../../../context/BasketContext'\nimport { IBook } from '../../../interface/IBook'\nimport { sumBook } from '../utils'\nimport { RouteNames } from '../../../interface/IRoute'\n\nimport '../style.css'\n\ntype Props = {\n    books: IBook[],\n}\n\nexport const BasketList: FC<Props> = ({ books }) => {\n    const { booksLocalStore, addBookToBasket, removeBookFromBasket, decreaseBookFromBasket } = useContext(BasketContext)\n    \n    const navigate = useNavigate()\n\n    const totalSum = useMemo(() => \n        books.map((book: IBook) => \n            sumBook(booksLocalStore, book.idBook, book.price))\n                .reduce((total: number, quantity: number) => +(total + quantity).toFixed(2), 0)\n    , [booksLocalStore, books])\n    \n    const handlerToOrder = useCallback(() => \n        navigate(RouteNames.ORDER)\n    , [])\n\n    return (\n        <div className=\"wrapperBasketList\" >\n            <div className=\"basketOrder\">\n                Order #1\n            </div>\n            <div className=\"basketHeader\">\n                <div className=\"basketHeader-other\">Img</div>\n                <div className=\"basketHeader-name\">Name</div>\n                <div className=\"basketHeader-other\">Quantity</div>\n                <div className=\"basketHeader-other\">Price</div>\n                <div className=\"basketHeader-other\">Sum</div>\n                <div className=\"basketHeader-other\">Del</div>\n            </div>\n            {books.map(book => \n                <BasketItem \n                    key={book.idBook} \n                    book={book}\n                    booksLocalStore={booksLocalStore}\n                    removeBookFromBasket={removeBookFromBasket}\n                    addBookToBasket={addBookToBasket}\n                    decreaseBookFromBasket={decreaseBookFromBasket}\n                />\n            )}\n            <div className=\"basketTotal\">\n                <div>total: {totalSum}$</div>\n            </div>\n            <div className=\"basketButtonBuy\">\n                <Button \n                    variant=\"outlined\" \n                    color=\"secondary\"\n                    onClick={handlerToOrder}\n                >\n                    Buy\n                </Button>\n            </div>\n        </div>\n    )\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAoBC,WAApB,EAAiCC,UAAjC,EAAwDC,OAAxD,QAAiF,OAAjF;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AAEA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,aAAT,QAA8B,gCAA9B;AAEA,SAASC,OAAT,QAAwB,UAAxB;AACA,SAASC,UAAT,QAA2B,2BAA3B;AAEA,OAAO,cAAP;;AAMA,OAAO,MAAMC,UAAqB,GAAG,QAAe;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EAChD,MAAM;IAAEC,eAAF;IAAmBC,eAAnB;IAAoCC,oBAApC;IAA0DC;EAA1D,IAAqFb,UAAU,CAACK,aAAD,CAArG;EAEA,MAAMS,QAAQ,GAAGZ,WAAW,EAA5B;EAEA,MAAMa,QAAQ,GAAGd,OAAO,CAAC,MACrBQ,KAAK,CAACO,GAAN,CAAWC,IAAD,IACNX,OAAO,CAACI,eAAD,EAAkBO,IAAI,CAACC,MAAvB,EAA+BD,IAAI,CAACE,KAApC,CADX,EAESC,MAFT,CAEgB,CAACC,KAAD,EAAgBC,QAAhB,KAAqC,CAAC,CAACD,KAAK,GAAGC,QAAT,EAAmBC,OAAnB,CAA2B,CAA3B,CAFtD,EAEqF,CAFrF,CADoB,EAItB,CAACb,eAAD,EAAkBD,KAAlB,CAJsB,CAAxB;EAMA,MAAMe,cAAc,GAAGzB,WAAW,CAAC,MAC/Be,QAAQ,CAACP,UAAU,CAACkB,KAAZ,CADsB,EAEhC,EAFgC,CAAlC;EAIA,oBACI;IAAK,SAAS,EAAC,mBAAf;IAAA,wBACI;MAAK,SAAS,EAAC,aAAf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAII;MAAK,SAAS,EAAC,cAAf;MAAA,wBACI;QAAK,SAAS,EAAC,oBAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAK,SAAS,EAAC,mBAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAK,SAAS,EAAC,oBAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ,eAII;QAAK,SAAS,EAAC,oBAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJJ,eAKI;QAAK,SAAS,EAAC,oBAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QALJ,eAMI;QAAK,SAAS,EAAC,oBAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAJJ,EAYKhB,KAAK,CAACO,GAAN,CAAUC,IAAI,iBACX,QAAC,UAAD;MAEI,IAAI,EAAEA,IAFV;MAGI,eAAe,EAAEP,eAHrB;MAII,oBAAoB,EAAEE,oBAJ1B;MAKI,eAAe,EAAED,eALrB;MAMI,sBAAsB,EAAEE;IAN5B,GACSI,IAAI,CAACC,MADd;MAAA;MAAA;MAAA;IAAA,QADH,CAZL,eAsBI;MAAK,SAAS,EAAC,aAAf;MAAA,uBACI;QAAA,sBAAaH,QAAb;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAtBJ,eAyBI;MAAK,SAAS,EAAC,iBAAf;MAAA,uBACI,QAAC,MAAD;QACI,OAAO,EAAC,UADZ;QAEI,KAAK,EAAC,WAFV;QAGI,OAAO,EAAES,cAHb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAzBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAqCH,CApDM;;GAAMhB,U;UAGQN,W;;;KAHRM,U"},"metadata":{},"sourceType":"module"}