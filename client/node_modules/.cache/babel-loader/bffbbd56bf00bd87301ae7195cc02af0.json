{"ast":null,"code":"export const onParseFilter = filterStr => {\n  var _filterStr$split;\n\n  if (!filterStr) return null;\n  let filters = {};\n  let parse = filterStr === null || filterStr === void 0 ? void 0 : (_filterStr$split = filterStr.split(';')) === null || _filterStr$split === void 0 ? void 0 : _filterStr$split.map(option => option.split('='));\n  parse === null || parse === void 0 ? void 0 : parse.map(option => {\n    var _option$;\n\n    const parseItem = (_option$ = option[1]) === null || _option$ === void 0 ? void 0 : _option$.split(',');\n    const optionItemInput = parseItem.reduce((acc, i) => ({ ...acc,\n      [i.split(':')[0]]: i.split(':')[1]\n    }), {});\n    const hasInputItem = Object.keys(optionItemInput).includes('from') || Object.keys(optionItemInput).includes('to');\n    filters[option[0]] = hasInputItem ? optionItemInput : parseItem;\n  });\n  return filters;\n};","map":{"version":3,"names":["onParseFilter","filterStr","filters","parse","split","map","option","parseItem","optionItemInput","reduce","acc","i","hasInputItem","Object","keys","includes"],"sources":["/Users/ksena/Программирование/React/lessons/Shop_1001/client/src/utils/parceFilterParams.ts"],"sourcesContent":["import { RangeFilter } from \"../interface/IFilter\"\n\nexport const onParseFilter = (filterStr: string | null) => {\n   if (!filterStr) return null\n\n   let filters: Record<string, string[] | RangeFilter> = {}\n   let parse = filterStr?.split(';')?.map((option: string) => option.split('='))\n    \n   parse?.map((option: string[]) => {\n      const parseItem = option[1]?.split(',')\n      const optionItemInput = parseItem.reduce((acc: RangeFilter, i: string) =>  \n         ({ ...acc, [i.split(':')[0]]: i.split(':')[1] }), {})\n      const hasInputItem = Object.keys(optionItemInput).includes('from') || Object.keys(optionItemInput).includes('to')\n\n      filters[option[0]] = hasInputItem ? optionItemInput : parseItem\n   })\n\n   return filters\n}  \n"],"mappings":"AAEA,OAAO,MAAMA,aAAa,GAAIC,SAAD,IAA8B;EAAA;;EACxD,IAAI,CAACA,SAAL,EAAgB,OAAO,IAAP;EAEhB,IAAIC,OAA+C,GAAG,EAAtD;EACA,IAAIC,KAAK,GAAGF,SAAH,aAAGA,SAAH,2CAAGA,SAAS,CAAEG,KAAX,CAAiB,GAAjB,CAAH,qDAAG,iBAAuBC,GAAvB,CAA4BC,MAAD,IAAoBA,MAAM,CAACF,KAAP,CAAa,GAAb,CAA/C,CAAZ;EAEAD,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEE,GAAP,CAAYC,MAAD,IAAsB;IAAA;;IAC9B,MAAMC,SAAS,eAAGD,MAAM,CAAC,CAAD,CAAT,6CAAG,SAAWF,KAAX,CAAiB,GAAjB,CAAlB;IACA,MAAMI,eAAe,GAAGD,SAAS,CAACE,MAAV,CAAiB,CAACC,GAAD,EAAmBC,CAAnB,MACrC,EAAE,GAAGD,GAAL;MAAU,CAACC,CAAC,CAACP,KAAF,CAAQ,GAAR,EAAa,CAAb,CAAD,GAAmBO,CAAC,CAACP,KAAF,CAAQ,GAAR,EAAa,CAAb;IAA7B,CADqC,CAAjB,EAC6B,EAD7B,CAAxB;IAEA,MAAMQ,YAAY,GAAGC,MAAM,CAACC,IAAP,CAAYN,eAAZ,EAA6BO,QAA7B,CAAsC,MAAtC,KAAiDF,MAAM,CAACC,IAAP,CAAYN,eAAZ,EAA6BO,QAA7B,CAAsC,IAAtC,CAAtE;IAEAb,OAAO,CAACI,MAAM,CAAC,CAAD,CAAP,CAAP,GAAqBM,YAAY,GAAGJ,eAAH,GAAqBD,SAAtD;EACF,CAPD;EASA,OAAOL,OAAP;AACF,CAhBM"},"metadata":{},"sourceType":"module"}