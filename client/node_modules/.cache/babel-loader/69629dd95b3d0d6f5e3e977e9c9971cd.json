{"ast":null,"code":"var _jsxFileName = \"/Users/ksena/\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/React/lessons/Shop_1001/client/src/pages/auth/components/ModalRegistration.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport cn from 'classnames';\nimport { LoadingCircular } from '../../../component/loading/LoadingCircular';\nimport { RadioButtonRegistration } from '../../../component/radioButton/RadioButtonRegistration';\nimport { useHttp } from '../../../hooks/http.hook';\nimport { TextFields } from '../../../component/input/Input';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ModalRegistration = _ref => {\n  _s();\n\n  let {\n    onClose\n  } = _ref;\n  const [form, setForm] = useState({\n    email: '',\n    name: '',\n    password: '',\n    checkPassword: '',\n    role: 'buyer'\n  });\n  const {\n    loading,\n    request,\n    errorsValid\n  } = useHttp();\n  const handlerChange = useCallback(event => setForm(prevForm => ({ ...prevForm,\n    [event.target.name]: event.target.value\n  })), []);\n  const handlerRegistration = useCallback(async () => {\n    const data = await request({\n      url: 'auth/register',\n      method: 'POST',\n      body: { ...form\n      }\n    });\n    if (!data) return '';\n    onClose();\n  }, [onClose, form, request]);\n  const classes = cn(\"wrapperLogin\", \"wrapperRegister\", errorsValid && \"wrapperErrorRegister\");\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    noValidate: true,\n    autoComplete: \"off\",\n    className: classes,\n    children: [loading && /*#__PURE__*/_jsxDEV(LoadingCircular, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Registration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextFields, {\n      label: \"Email\",\n      type: \"text\",\n      name: \"email\",\n      onChange: handlerChange,\n      errors: errorsValid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextFields, {\n      label: \"Login\",\n      type: \"text\",\n      name: \"name\",\n      onChange: handlerChange,\n      errors: errorsValid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextFields, {\n      label: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      onChange: handlerChange,\n      errors: errorsValid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextFields, {\n      label: \"Repeat password\",\n      type: \"password\",\n      name: \"checkPassword\",\n      onChange: handlerChange,\n      errors: errorsValid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(RadioButtonRegistration, {\n      name: \"role\",\n      onChange: handlerChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttonLoginWrapper\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"secondary\",\n        onClick: handlerRegistration,\n        disabled: loading,\n        children: \"Regestration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapperCloseWindow\",\n      onClick: onClose,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://cdn-icons-png.flaticon.com/512/51/51517.png\",\n        alt: \"close window\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ModalRegistration, \"QBoiSG5YK91GG2y3a4yckJvRZMo=\", false, function () {\n  return [useHttp];\n});\n\n_c = ModalRegistration;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalRegistration\");","map":{"version":3,"names":["React","useCallback","useState","Button","cn","LoadingCircular","RadioButtonRegistration","useHttp","TextFields","ModalRegistration","onClose","form","setForm","email","name","password","checkPassword","role","loading","request","errorsValid","handlerChange","event","prevForm","target","value","handlerRegistration","data","url","method","body","classes"],"sources":["/Users/ksena/Программирование/React/lessons/Shop_1001/client/src/pages/auth/components/ModalRegistration.tsx"],"sourcesContent":["import React, { ChangeEvent, FC, useCallback, useState } from 'react'\nimport { Button } from '@material-ui/core'\nimport cn from 'classnames'\n\nimport { LoadingCircular } from '../../../component/loading/LoadingCircular'\nimport { RadioButtonRegistration } from '../../../component/radioButton/RadioButtonRegistration'\nimport { useHttp } from '../../../hooks/http.hook'\nimport { TextFields } from '../../../component/input/Input'\n\ntype Props = {\n    onClose: () => void,\n}\n\ntype RegisterUser = {\n    email: string, \n    name: string, \n    password: string, \n    checkPassword: string,\n    role: string,\n}\n\nexport const ModalRegistration: FC<Props> = ({ onClose }) => {\n    const [form, setForm] = useState<RegisterUser>({ email: '', name: '', password: '', checkPassword: '', role: 'buyer' })\n    \n    const { loading, request, errorsValid } = useHttp()\n    \n    const handlerChange = useCallback((event: ChangeEvent<HTMLInputElement>): void => \n        setForm(prevForm => ({ ...prevForm, [event.target.name]: event.target.value }))\n    , []) \n\n    const handlerRegistration = useCallback(async() => {\n        const data = await request({ url: 'auth/register', method: 'POST', body: { ...form } })\n        if (!data) return ''\n        onClose()\n    }, [onClose, form, request]) \n\n    const classes = cn(\"wrapperLogin\", \"wrapperRegister\", errorsValid && \"wrapperErrorRegister\")\n\n    return (\n        <form \n            noValidate \n            autoComplete=\"off\" \n            className={classes}\n        >\n            {loading && <LoadingCircular/>}\n            <h2>Registration</h2> \n            <TextFields\n                label=\"Email\" \n                type=\"text\" \n                name=\"email\" \n                onChange={handlerChange}\n                errors={errorsValid}\n            />\n            <TextFields\n                label=\"Login\" \n                type=\"text\" \n                name=\"name\" \n                onChange={handlerChange}\n                errors={errorsValid}\n            />\n            <TextFields\n                label=\"Password\" \n                type=\"password\" \n                name=\"password\" \n                onChange={handlerChange}\n                errors={errorsValid}\n            />\n            <TextFields\n                label=\"Repeat password\" \n                type=\"password\" \n                name=\"checkPassword\" \n                onChange={handlerChange}\n                errors={errorsValid}\n            />\n            <RadioButtonRegistration\n                name=\"role\"\n                onChange={handlerChange}\n            />\n            <div className=\"buttonLoginWrapper\">\n                <Button variant=\"outlined\" color=\"secondary\"  \n                    onClick={handlerRegistration}\n                    disabled={loading}\n                >\n                    Regestration\n                </Button>\n            </div>\n            <div className=\"wrapperCloseWindow\" onClick={onClose}>\n                <img src=\"https://cdn-icons-png.flaticon.com/512/51/51517.png\"  alt=\"close window\" />\n            </div>\n        </form>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}