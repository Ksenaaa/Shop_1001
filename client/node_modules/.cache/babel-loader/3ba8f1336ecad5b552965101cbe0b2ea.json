{"ast":null,"code":"var _jsxFileName = \"/Users/ksena/\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/React/lessons/Shop_1001/client/src/component/bookForm/components/InputUploadImg.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { handleErrors } from \"../../../utils/ErrorsHanding\";\nimport '../style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const InputUploadImg = _ref => {\n  _s();\n\n  let {\n    onChange,\n    errors,\n    type,\n    name,\n    value\n  } = _ref;\n  const [imageUrl, setImageUrl] = useState('');\n  useEffect(() => {\n    if (!value) {\n      setImageUrl('');\n      return;\n    }\n\n    if (typeof value === 'string') {\n      setImageUrl(`${process.env.REACT_APP_API_URL}${value}`);\n      return;\n    }\n\n    setImageUrl(URL.createObjectURL(value));\n  }, [value]);\n  const error = useMemo(() => handleErrors({\n    name,\n    errors\n  }), [name, errors]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapperInputImg\",\n      onChange: onChange,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: type,\n        name: name,\n        className: \"inputImg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageUrl,\n        alt: \"book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputImgIcon\",\n        children: /*#__PURE__*/_jsxDEV(AddCircleOutlineIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"InputImgError\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(InputUploadImg, \"KfidPamqBdMiAYsK+BeJDy+7OCE=\");\n\n_c = InputUploadImg;\n\nvar _c;\n\n$RefreshReg$(_c, \"InputUploadImg\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","AddCircleOutlineIcon","handleErrors","InputUploadImg","onChange","errors","type","name","value","imageUrl","setImageUrl","process","env","REACT_APP_API_URL","URL","createObjectURL","error"],"sources":["/Users/ksena/Программирование/React/lessons/Shop_1001/client/src/component/bookForm/components/InputUploadImg.tsx"],"sourcesContent":["import React, { ChangeEvent, FC, useEffect, useMemo, useState } from \"react\"\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\n\nimport { handleErrors, ErrorType } from \"../../../utils/ErrorsHanding\"\n\nimport '../style.css'\n\ntype Props = {\n    onChange(e: ChangeEvent<HTMLInputElement>): void, \n    errors: ErrorType[] | null,\n    type: string,\n    name: string,\n    value: File | null | string,\n}\n\nexport const InputUploadImg: FC<Props> = ({ onChange, errors, type, name, value }) => {\n    const [imageUrl, setImageUrl] = useState<string>('')\n\n    useEffect(() => {\n        if (!value) {\n            setImageUrl('')\n            return\n        }\n\n        if (typeof value === 'string') {\n            setImageUrl(`${process.env.REACT_APP_API_URL}${value}`)\n            return\n        }\n\n        setImageUrl(URL.createObjectURL(value))\n    }, [value])\n    \n    const error = useMemo(() => handleErrors({ name, errors }), [name, errors]) \n\n    return (\n        <>\n            <div \n                className=\"wrapperInputImg\" \n                onChange={onChange}\n            >\n                <input\n                    type={type}\n                    name={name} \n                    className=\"inputImg\"\n                />\n                {imageUrl &&\n                    <img src={imageUrl} alt=\"book\"/>\n                }\n                <div className=\"inputImgIcon\">\n                    <AddCircleOutlineIcon />\n                </div>\n            </div>\n            <div className=\"InputImgError\">\n                {error}\n            </div>\n        </>\n    )\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAiCC,SAAjC,EAA4CC,OAA5C,EAAqDC,QAArD,QAAqE,OAArE;AACA,OAAOC,oBAAP,MAAiC,qCAAjC;AAEA,SAASC,YAAT,QAAwC,8BAAxC;AAEA,OAAO,cAAP;;;AAUA,OAAO,MAAMC,cAAyB,GAAG,QAA6C;EAAA;;EAAA,IAA5C;IAAEC,QAAF;IAAYC,MAAZ;IAAoBC,IAApB;IAA0BC,IAA1B;IAAgCC;EAAhC,CAA4C;EAClF,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAS,EAAT,CAAxC;EAEAF,SAAS,CAAC,MAAM;IACZ,IAAI,CAACU,KAAL,EAAY;MACRE,WAAW,CAAC,EAAD,CAAX;MACA;IACH;;IAED,IAAI,OAAOF,KAAP,KAAiB,QAArB,EAA+B;MAC3BE,WAAW,CAAE,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,GAAEL,KAAM,EAA1C,CAAX;MACA;IACH;;IAEDE,WAAW,CAACI,GAAG,CAACC,eAAJ,CAAoBP,KAApB,CAAD,CAAX;EACH,CAZQ,EAYN,CAACA,KAAD,CAZM,CAAT;EAcA,MAAMQ,KAAK,GAAGjB,OAAO,CAAC,MAAMG,YAAY,CAAC;IAAEK,IAAF;IAAQF;EAAR,CAAD,CAAnB,EAAuC,CAACE,IAAD,EAAOF,MAAP,CAAvC,CAArB;EAEA,oBACI;IAAA,wBACI;MACI,SAAS,EAAC,iBADd;MAEI,QAAQ,EAAED,QAFd;MAAA,wBAII;QACI,IAAI,EAAEE,IADV;QAEI,IAAI,EAAEC,IAFV;QAGI,SAAS,EAAC;MAHd;QAAA;QAAA;QAAA;MAAA,QAJJ,EASKE,QAAQ,iBACL;QAAK,GAAG,EAAEA,QAAV;QAAoB,GAAG,EAAC;MAAxB;QAAA;QAAA;QAAA;MAAA,QAVR,eAYI;QAAK,SAAS,EAAC,cAAf;QAAA,uBACI,QAAC,oBAAD;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAZJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAiBI;MAAK,SAAS,EAAC,eAAf;MAAA,UACKO;IADL;MAAA;MAAA;MAAA;IAAA,QAjBJ;EAAA,gBADJ;AAuBH,CA1CM;;GAAMb,c;;KAAAA,c"},"metadata":{},"sourceType":"module"}